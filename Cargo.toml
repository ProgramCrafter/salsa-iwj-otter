# Copyright 2020-2021 Ian Jackson and contributors to Otter
# SPDX-License-Identifier: AGPL-3.0-or-later
# There is NO WARRANTY.

[package]
name = "otter"
authors = ["Ian Jackson <ijackson@chiark.greenend.org.uk>"]
license = "AGPL-3.0-or-later"

version = "0.3.0"
edition = "2018"

[workspace]
members = ["wasm", "daemon", "wdriver"]

[dependencies]

otter-base = { path = "base" }

anyhow = "1"
argparse = "0.2"
backtrace = "0.3"
boolinator = "2"
chrono = "0.4"
chrono-tz = "0.5"
delegate = "0.5"
downcast-rs = "1"
either = "1"
enum-map = { version = "0.6", features = [ "serde" ] }
env_logger = "0.8"
failure = "0.1.8" # for pwd
flexi_logger = { version = "0.17", features = [ "specfile" ] }
fs2 = "0.4"
glob = "0.3"
htmlescape = "0.3"
index_vec = { version = "0.1.1", features = ['serde'] }

inventory = "0.1"
itertools = "0.10"
lazy_static = "1"
libc = "0.2"
lazy-init = "0.5"
log = "0.4"
nix = "0.19"
num-derive = "0.3"
num-traits = "0.2"
ordered-float = "2"
parking_lot = "0.11"
percent-encoding = "2"
pwd = "1"
rand = "0.8"
regex = "1"
rmp = "0.8"
rmp-serde = "0.15"
serde_json = "1"
structopt = "0.3"
strum = { version = "0.20", features = ['derive'] }
tempfile = "3"
tera = "0.11"
toml = "0.5"
typetag = "0.1.6"
uds = "0.2"
url = "2"
vecdeque-stableix = "1"

# Repeated here because importing does not work properly
fehler = "1"
serde = { version = "1", features = ["derive","rc"] }
serde_with = "1"
thiserror = "1"

slotmap = { features = ['serde'], git = "https://github.com/ijackson/slotmap", branch="entry-return-stale-key" }
# ^ MR not yet reviewed
